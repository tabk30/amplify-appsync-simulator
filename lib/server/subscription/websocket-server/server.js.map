{"version":3,"file":"server.js","sourceRoot":"","sources":["../../../../src/server/subscription/websocket-server/server.ts"],"names":[],"mappings":"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"}